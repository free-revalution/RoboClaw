<div align="center">

# RoboClaw

### Minimalist AI Agent Framework in C++ / æç®€ C++ AI Agent æ¡†æ¶

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![C++20](https://img.shields.io/badge/C++-20-00599C.svg)](https://en.cppreference.com/w/cpp/20)
[![CMake](https://img.shields.io/badge/CMake-3.20%2B-blue.svg)](https://cmake.org/)
[![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Linux%20%7C%20Windows-lightgrey.svg)](README.md#installation)

**"Less is More" AI Agent Framework / "å°‘å³æ˜¯å¤š" AI Agent æ¡†æ¶**

</div>

---

## Introduction / ç®€ä»‹

**[English]**

RoboClaw is a minimalist AI Agent framework written in modern C++, inspired by the OpenClaw project's Pi engine. Unlike mainstream Agent frameworks (like LangChain, AutoGPT), RoboClaw embraces the philosophy of "Less is More":

- **Only 5 Tools**: Read, Write, Edit, Bash, Serial â€” nothing more
- **Minimal System Prompt**: The shortest possible Agent system prompt
- **Self-Coding**: Agent writes its own code for new features instead of installing plugins
- **Tree-Structured Conversations**: Support branching with bug fixes that don't pollute mainline
- **High Performance**: Multithreaded with thread pool, read-write locks, and atomic operations
- **Production Ready**: Token optimization, session persistence, cross-platform support
- **Multilingual**: English and Simplified Chinese language support
- **Embedded Development**: Serial port communication for embedded systems

**[ä¸­æ–‡]**

RoboClaw æ˜¯ä¸€ä¸ªç”¨ç°ä»£ C++ ç¼–å†™çš„æç®€ AI Agent æ¡†æ¶ï¼Œçµæ„Ÿæ¥æºäº OpenClaw é¡¹ç›®çš„ Pi å¼•æ“ã€‚ä¸ä¸»æµ Agent æ¡†æ¶ï¼ˆå¦‚ LangChainã€AutoGPTï¼‰ä¸åŒï¼ŒRoboClaw é‡‡ç”¨"å°‘å³æ˜¯å¤š"çš„è®¾è®¡å“²å­¦ï¼š

- **åªæœ‰ 5 ä¸ªå·¥å…·**ï¼šReadï¼ˆè¯»æ–‡ä»¶ï¼‰ã€Writeï¼ˆå†™æ–‡ä»¶ï¼‰ã€Editï¼ˆç¼–è¾‘æ–‡ä»¶ï¼‰ã€Bashï¼ˆæ‰§è¡Œå‘½ä»¤ï¼‰ã€Serialï¼ˆä¸²å£é€šä¿¡ï¼‰
- **æç®€ç³»ç»Ÿæç¤ºè¯**ï¼šæœ€çŸ­çš„ Agent ç³»ç»Ÿæç¤ºè¯
- **è‡ªç¼–ç èƒ½åŠ›**ï¼šéœ€è¦æ–°åŠŸèƒ½æ—¶è®© Agent è‡ªå·±å†™ä»£ç ï¼Œè€Œä¸æ˜¯å®‰è£…æ’ä»¶
- **æ ‘çŠ¶å¯¹è¯ç»“æ„**ï¼šæ”¯æŒåˆ†æ”¯ï¼Œä¿®å¤ bug ä¸å½±å“ä¸»çº¿
- **é«˜æ€§èƒ½**ï¼šå¤šçº¿ç¨‹çº¿ç¨‹æ± ã€è¯»å†™é”ã€åŸå­æ“ä½œ
- **ç”Ÿäº§å°±ç»ª**ï¼šToken ä¼˜åŒ–ã€ä¼šè¯æŒä¹…åŒ–ã€è·¨å¹³å°æ”¯æŒ
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒç®€ä½“ä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢
- **åµŒå…¥å¼å¼€å‘**ï¼šæ”¯æŒä¸²å£é€šä¿¡ï¼Œé€‚ç”¨äºåµŒå…¥å¼å¼€å‘

---

## Features / æ ¸å¿ƒç‰¹æ€§

### Core Tools / æ ¸å¿ƒå·¥å…·

| Tool | Description | æè¿° |
|------|-------------|------|
| **Read** | Read file contents with pagination support | è¯»å–æ–‡ä»¶å†…å®¹ï¼Œæ”¯æŒåˆ†é¡µè¯»å– |
| **Write** | Create new files or overwrite existing files | åˆ›å»ºæ–°æ–‡ä»¶æˆ–è¦†ç›–ç°æœ‰æ–‡ä»¶ |
| **Edit** | Precise string replacement in files | ç²¾ç¡®æ›¿æ¢æ–‡ä»¶ä¸­çš„å­—ç¬¦ä¸² |
| **Bash** | Execute shell commands with cross-platform support | æ‰§è¡Œ shell å‘½ä»¤ï¼Œè·¨å¹³å°æ”¯æŒ |
| **Serial** | Serial port communication for embedded development | ä¸²å£é€šä¿¡å·¥å…·ï¼Œç”¨äºåµŒå…¥å¼å¼€å‘ |

### Tree-Structured Conversations / æ ‘çŠ¶å¯¹è¯ç»“æ„

```
Mainline:  A â†’ B â†’ C â†’ D
                    â†“
Branch:        â†’ E â†’ F (bug fix)
```

**[English]** Create branches from any node. Each branch has independent history. Bug fixes don't pollute the mainline conversation.

**[ä¸­æ–‡]** ä»ä»»æ„èŠ‚ç‚¹åˆ›å»ºæ–°åˆ†æ”¯ã€‚æ¯ä¸ªåˆ†æ”¯æ‹¥æœ‰ç‹¬ç«‹å†å²ã€‚ä¿®å¤ bug ä¸ä¼šæ±¡æŸ“ä¸»çº¿å¯¹è¯ã€‚

### Concurrent Tool Execution / å¹¶å‘å·¥å…·æ‰§è¡Œ

```
Sequential:          Concurrent:
[Tool1] â†’ [Tool2]     [Tool1] â”€â”
  300ms  + 200ms       [Tool2] â”€â”¼â†’ ThreadPool
  = 500ms              [Tool3] â”€â”˜   = max(300, 200, 100)
                       [Tool4] â”€â”   = 400ms
                                = 300ms
```

**[English]** Execute multiple tools concurrently using the thread pool. Significantly faster for I/O-bound operations.

**[ä¸­æ–‡]** ä½¿ç”¨çº¿ç¨‹æ± å¹¶å‘æ‰§è¡Œå¤šä¸ªå·¥å…·ã€‚å¯¹äº I/O å¯†é›†å‹æ“ä½œé€Ÿåº¦æ˜¾è‘—æå‡ã€‚

### Token Optimization / Token ä¼˜åŒ–

**[English]**
- LRU cache for token estimation
- Conversation compression
- Prompt caching support
- Token budget management

**[ä¸­æ–‡]**
- Token ä¼°ç®— LRU ç¼“å­˜
- å¯¹è¯å‹ç¼©
- æç¤ºè¯ç¼“å­˜æ”¯æŒ
- Token é¢„ç®—ç®¡ç†

### LLM Provider Support / LLM æä¾›å•†æ”¯æŒ

| Provider | Status |
|----------|--------|
| Anthropic (Claude) | âœ… Supported / å·²æ”¯æŒ |
| OpenAI (GPT) | âœ… Supported / å·²æ”¯æŒ |
| Google Gemini | ğŸ”„ Planned / è®¡åˆ’ä¸­ |
| DeepSeek | ğŸ”„ Planned / è®¡åˆ’ä¸­ |
| ByteDance | ğŸ”„ Planned / è®¡åˆ’ä¸­ |
| Alibaba Qwen | ğŸ”„ Planned / è®¡åˆ’ä¸­ |

---

## Architecture / æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RoboClaw Framework                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   CLI       â”‚    â”‚   Agent      â”‚    â”‚  LLM Provider  â”‚   â”‚
â”‚  â”‚   Module    â”‚â—„â”€â”€â–ºâ”‚   Engine     â”‚â—„â”€â”€â–ºâ”‚   Interface    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                                  â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                     â”‚  Tool        â”‚                          â”‚
â”‚                     â”‚  Executor    â”‚                          â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                            â”‚                                  â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚              â–¼             â–¼             â–¼                   â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚     â”‚   Read   â”‚  â”‚  Write   â”‚  â”‚   Edit   â”‚              â”‚
â”‚     â”‚   Tool   â”‚  â”‚   Tool   â”‚  â”‚   Tool   â”‚              â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                                 â”‚   Bash   â”‚   â”‚
â”‚                                                 â”‚   Tool   â”‚   â”‚
â”‚                                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Thread Pool (Multithreading)              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Session   â”‚  â”‚  Token       â”‚  â”‚    Skill       â”‚       â”‚
â”‚  â”‚  Manager    â”‚  â”‚  Optimizer   â”‚  â”‚    System       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Thread Safety / çº¿ç¨‹å®‰å…¨

| Component | Synchronization / åŒæ­¥æœºåˆ¶ |
|-----------|---------------------------|
| Task Queue | `std::mutex` + `std::condition_variable` |
| Conversation History | `std::shared_mutex` (read-write lock) |
| Tool Results | `std::mutex` |
| Statistics | `std::atomic` |
| Token Cache | `std::shared_mutex` |

---

## Installation / å®‰è£…éƒ¨ç½²

### Prerequisites / å‰ç½®è¦æ±‚

| Dependency | Version | macOS | Linux | Windows |
|------------|---------|--------|-------|---------|
| CMake | 3.20+ | Homebrew | Package Manager | Installer |
| C++ Compiler | C++20 | Xcode/Clang | GCC 10+ | MSVC 2019+ |
| Ninja | Latest | Homebrew | Package Manager | Installer |
| nlohmann/json | 3.11+ | Homebrew | Package Manager | vcpkg |

### macOS Installation / macOS å®‰è£…

```bash
# Install Xcode Command Line Tools
xcode-select --install

# Install dependencies via Homebrew
brew install cmake ninja nlohmann-json

# Clone repository
git clone https://github.com/yourusername/RoboClaw.git
cd RoboClaw

# Configure with preset
cmake --preset=release

# Build
cmake --build build --config Release

# Run
./build/roboclaw --help
```

### Linux Installation / Linux å®‰è£…

```bash
# Install dependencies (Ubuntu/Debian)
sudo apt update
sudo apt install -y cmake ninja-build nlohmann-json3-dev \
    build-essential g++ git

# Clone repository
git clone https://github.com/yourusername/RoboClaw.git
cd RoboClaw

# Configure with preset
cmake --preset=release

# Build
cmake --build build --config Release

# Run
./build/roboclaw --help
```

### Windows Installation / Windows å®‰è£…

```powershell
# Install vcpkg package manager
git clone https://github.com/Microsoft/vcpkg.git C:\vcpkg
.\vcpkg\bootstrap-vcpkg.bat

# Install dependencies
.\vcpkg\vcpkg install nlohmann-json:x64-windows cmake ninja

# Clone repository
git clone https://github.com/yourusername/RoboClaw.git
cd RoboClaw

# Configure with Visual Studio Developer Command Prompt
cmake -G Ninja -DCMAKE_TOOLCHAIN_FILE=C:/vcpkg/scripts/buildsystems/vcpkg.cmake -B build

# Build
cmake --build build --config Release

# Run
.\build\roboclaw.exe --help
```

### Docker Installation / Docker å®‰è£…

```bash
# Build image
docker build -t roboclaw:latest .

# Run container
docker run -it --rm roboclaw:latest --help

# Interactive mode
docker run -it --rm -v $(pwd)/data:/app/data roboclaw:latest
```

---

## Quick Start / å¿«é€Ÿå¼€å§‹

### Configuration / é…ç½®

**[English]** First run will launch configuration wizard to set up your API keys:

**[ä¸­æ–‡]** é¦–æ¬¡è¿è¡Œä¼šå¯åŠ¨é…ç½®å‘å¯¼æ¥è®¾ç½® API å¯†é’¥ï¼š

```bash
./build/roboclaw
```

Configuration file location / é…ç½®æ–‡ä»¶ä½ç½®:
- **macOS/Linux**: `~/.config/roboclaw/config.json`
- **Windows**: `%APPDATA%\roboclaw\config.json`

### Basic Usage / åŸºæœ¬ç”¨æ³•

```bash
# Start interactive mode / å¯åŠ¨äº¤äº’æ¨¡å¼
./build/roboclaw

# Show help / æ˜¾ç¤ºå¸®åŠ©
./build/roboclaw --help

# Show version / æ˜¾ç¤ºç‰ˆæœ¬
./build/roboclaw --version

# Show configuration / æ˜¾ç¤ºé…ç½®
./build/roboclaw config --show

# List conversations / åˆ—å‡ºå¯¹è¯
./build/roboclaw conversation --list

# List skills / åˆ—å‡ºæŠ€èƒ½
./build/roboclaw skill --list
```

### Example Session / ç¤ºä¾‹å¯¹è¯

```
==================================================
  RoboClaw v0.1.0
  C++ AI Agent Framework - æç®€AI Agentæ¡†æ¶
==================================================

[Config loaded: Anthropic Claude 3.5 Sonnet]

You: What files are in the current directory?

Assistant: I'll use the Bash tool to list the files.

[Bash] ls -la

[Result]
total 24
drwxr-xr-x   8 user  staff   256 Feb 21 10:30 .
drwxr-xr-x   3 user  staff    96 Feb 21 10:30 ..
-rw-r--r--   1 user  staff   234 Feb 21 10:30 README.md
drwxr-xr-x   3 user  staff    96 Feb 21 10:30 src
...

You: Can you read the README.md file?

Assistant: [Reading README.md...]

[Result]
# RoboClaw
...
```

---

## Development / å¼€å‘æŒ‡å—

### Project Structure / é¡¹ç›®ç»“æ„

```
RoboClaw/
â”œâ”€â”€ CMakeLists.txt              # CMake configuration / CMake é…ç½®
â”œâ”€â”€ CMakePresets.json           # CMake presets / CMake é¢„è®¾
â”œâ”€â”€ README.md                   # This file / æœ¬æ–‡ä»¶
â”œâ”€â”€ LICENSE                     # MIT License / MIT è®¸å¯è¯
â”œâ”€â”€ src/                        # Source code / æºä»£ç 
â”‚   â”œâ”€â”€ main.cpp               # Entry point / å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ cli/                   # CLI module / CLI æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ config_wizard.cpp   # Configuration wizard / é…ç½®å‘å¯¼
â”‚   â”‚   â”œâ”€â”€ interactive_mode.cpp # Interactive mode / äº¤äº’æ¨¡å¼
â”‚   â”‚   â””â”€â”€ skill_commands.cpp   # Skill commands / æŠ€èƒ½å‘½ä»¤
â”‚   â”œâ”€â”€ agent/                 # Agent engine / Agent å¼•æ“
â”‚   â”‚   â”œâ”€â”€ agent.h/.cpp       # Core Agent class / æ ¸å¿ƒ Agent ç±»
â”‚   â”‚   â”œâ”€â”€ tool_executor.h/.cpp # Tool executor / å·¥å…·æ‰§è¡Œå™¨
â”‚   â”‚   â””â”€â”€ prompt_builder.h/.cpp # Prompt builder / æç¤ºè¯æ„å»ºå™¨
â”‚   â”œâ”€â”€ tools/                 # Tools implementation / å·¥å…·å®ç°
â”‚   â”‚   â”œâ”€â”€ tool_base.h/.cpp   # Base tool class / å·¥å…·åŸºç±»
â”‚   â”‚   â”œâ”€â”€ read_tool.h/.cpp   # Read tool / è¯»å·¥å…·
â”‚   â”‚   â”œâ”€â”€ write_tool.h/.cpp  # Write tool / å†™å·¥å…·
â”‚   â”‚   â”œâ”€â”€ edit_tool.h/.cpp   # Edit tool / ç¼–è¾‘å·¥å…·
â”‚   â”‚   â”œâ”€â”€ bash_tool.h/.cpp   # Bash tool / Bashå·¥å…·
â”‚   â”‚   â””â”€â”€ serial_tool.h/.cpp # Serial tool / ä¸²å£å·¥å…·
â”‚   â”œâ”€â”€ llm/                   # LLM interfaces / LLM æ¥å£
â”‚   â”‚   â”œâ”€â”€ llm_provider.h     # Base provider / æä¾›å•†åŸºç±»
â”‚   â”‚   â”œâ”€â”€ anthropic_provider.h/.cpp # Anthropic / Claude
â”‚   â”‚   â”œâ”€â”€ openai_provider.h/.cpp     # OpenAI / GPT
â”‚   â”‚   â””â”€â”€ http_client.h/.cpp # HTTP client / HTTP å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ session/               # Session management / ä¼šè¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ session_manager.h/.cpp  # Session manager / ä¼šè¯ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ conversation_tree.h/.cpp # Conversation tree / å¯¹è¯æ ‘
â”‚   â”‚   â””â”€â”€ conversation_node.h/.cpp  # Conversation node / å¯¹è¯èŠ‚ç‚¹
â”‚   â”œâ”€â”€ optimization/          # Token optimization / Token ä¼˜åŒ–
â”‚   â”‚   â”œâ”€â”€ token_optimizer.h/.cpp    # Token optimizer / Token ä¼˜åŒ–å™¨
â”‚   â”‚   â”œâ”€â”€ token_budget.h/.cpp       # Token budget / Token é¢„ç®—
â”‚   â”‚   â”œâ”€â”€ conversation_compressor.h/.cpp
â”‚   â”‚   â””â”€â”€ token_constants.h          # Constants / å¸¸é‡
â”‚   â”œâ”€â”€ skills/                # Skill system / æŠ€èƒ½ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ skill_parser.h/.cpp       # Skill parser / æŠ€èƒ½è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ skill_registry.h/.cpp     # Skill registry / æŠ€èƒ½æ³¨å†Œè¡¨
â”‚   â”‚   â”œâ”€â”€ skill_executor.h/.cpp      # Skill executor / æŠ€èƒ½æ‰§è¡Œå™¨
â”‚   â”‚   â””â”€â”€ skill_downloader.h/.cpp    # Skill downloader / æŠ€èƒ½ä¸‹è½½å™¨
â”‚   â”œâ”€â”€ storage/               # Storage layer / å­˜å‚¨å±‚
â”‚   â”‚   â””â”€â”€ config_manager.h/.cpp      # Config manager / é…ç½®ç®¡ç†å™¨
â”‚   â””â”€â”€ utils/                 # Utilities / å·¥å…·ç±»
â”‚       â”œâ”€â”€ logger.h/.cpp      # Logger / æ—¥å¿—
â”‚       â””â”€â”€ thread_pool.h/.cpp # Thread pool / çº¿ç¨‹æ± 
â”œâ”€â”€ skills/                     # Built-in skills / å†…ç½®æŠ€èƒ½
â”‚   â””â”€â”€ builtin/               # Built-in skill definitions / å†…ç½®æŠ€èƒ½å®šä¹‰
â””â”€â”€ docs/                       # Documentation / æ–‡æ¡£
    â””â”€â”€ plans/                 # Design documents / è®¾è®¡æ–‡æ¡£
```

### Building from Source / ä»æºç æ„å»º

```bash
# Clone repository
git clone https://github.com/yourusername/RoboClaw.git
cd RoboClaw

# Create build directory
mkdir -p build && cd build

# Configure (Debug)
cmake -DCMAKE_BUILD_TYPE=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS=ON ..

# Or use preset
cmake --preset=debug

# Build
cmake --build . -j$(nproc)

# Run tests (when available)
ctest --output-on-failure
```

### VSCode Development / VSCode å¼€å‘

**[English]** The project includes VSCode configuration files. Simply open the project folder in VSCode, and the CMake Tools extension will handle the rest.

**[ä¸­æ–‡]** é¡¹ç›®åŒ…å« VSCode é…ç½®æ–‡ä»¶ã€‚åªéœ€åœ¨ VSCode ä¸­æ‰“å¼€é¡¹ç›®æ–‡ä»¶å¤¹ï¼ŒCMake Tools æ‰©å±•ä¼šè‡ªåŠ¨å¤„ç†å…¶ä½™å·¥ä½œã€‚

```bash
code .
```

---

## Skill System / æŠ€èƒ½ç³»ç»Ÿ

### Built-in Skills / å†…ç½®æŠ€èƒ½

```bash
# List available skills
./build/roboclaw skill --list

# Show skill details
./build/roboclaw skill --show code-review

# Install custom skill
./build/roboclaw skill --install /path/to/skill.json

# Uninstall skill
./build/roboclaw skill --uninstall skill-name
```

### Creating Custom Skills / åˆ›å»ºè‡ªå®šä¹‰æŠ€èƒ½

**[English]** Skills are defined in JSON format. Here's a template:

**[ä¸­æ–‡]** æŠ€èƒ½ä»¥ JSON æ ¼å¼å®šä¹‰ã€‚ä»¥ä¸‹æ˜¯æ¨¡æ¿ï¼š

```json
{
  "name": "my-skill",
  "version": "1.0.0",
  "description": "My custom skill",
  "author": "Your Name",
  "actions": [
    {
      "type": "tool",
      "name": "read",
      "parameters": {
        "file": "${filename}"
      }
    },
    {
      "type": "llm",
      "prompt": "Analyze this file: ${file_content}"
    }
  ]
}
```

---

## Performance / æ€§èƒ½

### Benchmarks / åŸºå‡†æµ‹è¯•

| Operation | Single Thread | Multithreaded | Improvement |
|-----------|--------------|---------------|-------------|
| 4 Tools Sequential | ~500ms | ~150ms | **3.3x** |
| Token Estimation (cached) | ~50ms | ~5ms | **10x** |
| Conversation Read | N/A | Concurrent | **N x** |

### Optimization Techniques / ä¼˜åŒ–æŠ€æœ¯

1. **Thread Pool**: Reuses threads, avoids creation overhead / çº¿ç¨‹æ± å¤ç”¨çº¿ç¨‹ï¼Œé¿å…åˆ›å»ºå¼€é”€
2. **Read-Write Locks**: Allows concurrent reads / è¯»å†™é”å…è®¸å¹¶å‘è¯»å–
3. **Atomic Operations**: Lock-free counters / åŸå­æ“ä½œæ— é”è®¡æ•°
4. **LRU Cache**: Caches token estimates / LRU ç¼“å­˜ token ä¼°ç®—
5. **Lazy Loading**: Components loaded on demand / æ‡’åŠ è½½æŒ‰éœ€åŠ è½½ç»„ä»¶

---

## Contributing / è´¡çŒ®æŒ‡å—

### How to Contribute / å¦‚ä½•è´¡çŒ®

**[English]**
1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes
4. Write tests if applicable
5. Ensure the build passes (`cmake --build build`)
6. Commit your changes (`git commit -m 'Add amazing feature'`)
7. Push to the branch (`git push origin feature/amazing-feature`)
8. Open a Pull Request

**[ä¸­æ–‡]**
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. è¿›è¡Œæ›´æ”¹
4. å¦‚é€‚ç”¨ï¼Œç¼–å†™æµ‹è¯•
5. ç¡®ä¿æ„å»ºé€šè¿‡ (`cmake --build build`)
6. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
7. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
8. æ‰“å¼€ Pull Request

### Code Style / ä»£ç é£æ ¼

- Follow C++ Core Guidelines / éµå¾ª C++ æ ¸å¿ƒæŒ‡å—
- Use 4 spaces for indentation / ä½¿ç”¨ 4 ç©ºæ ¼ç¼©è¿›
- Maximum line length: 120 characters / æœ€å¤§è¡Œé•¿åº¦ï¼š120 å­—ç¬¦
- Use meaningful variable names / ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å

### Development Guidelines / å¼€å‘æŒ‡å—

```cpp
// Good / å¥½çš„ç¤ºä¾‹
class Example {
public:
    explicit Example(std::string name) : name_(std::move(name)) {}

    void process() {
        std::lock_guard<std::mutex> lock(mutex_);
        // Thread-safe operation
    }

private:
    std::string name_;
    std::mutex mutex_;
};

// Avoid / é¿å…
class Example {
    void Process() { m_sName = ""; }  // Non-const reference
private:
    std::string m_sName;  // Hungarian notation
};
```

---

## Roadmap / è·¯çº¿å›¾

### v0.1.0 (Current / å½“å‰)
- [x] Basic framework / åŸºç¡€æ¡†æ¶
- [x] 5 core tools / 5 ä¸ªæ ¸å¿ƒå·¥å…· (Read, Write, Edit, Bash, Serial)
- [x] LLM provider interface / LLM æä¾›å•†æ¥å£
- [x] Session management / ä¼šè¯ç®¡ç†
- [x] Thread pool implementation / çº¿ç¨‹æ± å®ç°
- [x] Multilingual support / å¤šè¯­è¨€æ”¯æŒ (English, Chinese)
- [x] Serial port communication / ä¸²å£é€šä¿¡

### v0.2.0 (Planned / è®¡åˆ’ä¸­)
- [ ] Enhanced skill system / å¢å¼ºæŠ€èƒ½ç³»ç»Ÿ
- [ ] Web API mode / Web API æ¨¡å¼
- [ ] Plugin system / æ’ä»¶ç³»ç»Ÿ
- [ ] Docker images / Docker é•œåƒ

### v0.3.0 (Future / æœªæ¥)
- [ ] Streaming response / æµå¼å“åº”
- [ ] Multi-modal support / å¤šæ¨¡æ€æ”¯æŒ
- [ ] Distributed execution / åˆ†å¸ƒå¼æ‰§è¡Œ

---

## Serial Port Communication / ä¸²å£é€šä¿¡

**[English]**

The Serial tool provides cross-platform serial port communication for embedded development. It supports listing available ports, opening/closing ports, reading/writing data, and configuring port settings.

**[ä¸­æ–‡]**

ä¸²å£å·¥å…·æä¾›è·¨å¹³å°çš„ä¸²å£é€šä¿¡åŠŸèƒ½ï¼Œé€‚ç”¨äºåµŒå…¥å¼å¼€å‘ã€‚æ”¯æŒåˆ—å‡ºå¯ç”¨ä¸²å£ã€æ‰“å¼€/å…³é—­ä¸²å£ã€è¯»å†™æ•°æ®å’Œé…ç½®ä¸²å£å‚æ•°ã€‚

### Supported Platforms / æ”¯æŒçš„å¹³å°

| Platform | Device Name Pattern | ç¤ºä¾‹ |
|----------|-------------------|------|
| Linux | `/dev/ttyUSB*`, `/dev/ttyACM*`, `/dev/ttyS*` | `/dev/ttyUSB0` |
| macOS | `/dev/cu.usbserial*`, `/dev/tty.usbmodem*` | `/dev/cu.usbserial-14210` |
| Windows | `COM1`, `COM2`, etc. | `COM3` |

### Serial Tool Actions / ä¸²å£å·¥å…·æ“ä½œ

| Action | Parameters | Description | æè¿° |
|--------|-----------|-------------|------|
| **list** | - | List available ports | åˆ—å‡ºå¯ç”¨ä¸²å£ |
| **open** | port, baud_rate, data_bits, stop_bits, parity | Open and configure port | æ‰“å¼€å¹¶é…ç½®ä¸²å£ |
| **close** | port | Close port | å…³é—­ä¸²å£ |
| **read** | port, max_size | Read data from port | ä»ä¸²å£è¯»å–æ•°æ® |
| **write** | port, data | Write data to port | å‘ä¸²å£å†™å…¥æ•°æ® |
| **config** | port, baud_rate, data_bits, stop_bits, parity | Configure open port | é…ç½®å·²æ‰“å¼€çš„ä¸²å£ |

### Usage Examples / ä½¿ç”¨ç¤ºä¾‹

```json
// List available ports / åˆ—å‡ºå¯ç”¨ä¸²å£
{
  "action": "list"
}

// Open a serial port at 115200 baud / æ‰“å¼€115200æ³¢ç‰¹ç‡çš„ä¸²å£
{
  "action": "open",
  "port": "/dev/ttyUSB0",
  "baud_rate": 115200,
  "data_bits": 8,
  "stop_bits": 1,
  "parity": "N"
}

// Read data from serial port / ä»ä¸²å£è¯»å–æ•°æ®
{
  "action": "read",
  "port": "/dev/ttyUSB0",
  "max_size": 4096
}

// Write data to serial port / å‘ä¸²å£å†™å…¥æ•°æ®
{
  "action": "write",
  "port": "/dev/ttyUSB0",
  "data": "AT+GMI\r\n"
}

// Close serial port / å…³é—­ä¸²å£
{
  "action": "close",
  "port": "/dev/ttyUSB0"
}
```

### Configuration Parameters / é…ç½®å‚æ•°

| Parameter | Type | Default | Description | æè¿° |
|-----------|------|---------|-------------|------|
| baud_rate | integer | 115200 | 9600, 19200, 38400, 57600, 115200, 230400 | æ³¢ç‰¹ç‡ |
| data_bits | integer | 8 | 5-9 | æ•°æ®ä½ |
| stop_bits | integer | 1 | 1-2 | åœæ­¢ä½ |
| parity | string | "N" | "N"=None, "O"=Odd, "E"=Even | æ ¡éªŒä½ |
| timeout | integer | 1000 | Timeout in milliseconds | è¶…æ—¶æ—¶é—´(æ¯«ç§’) |

---

## Language Settings / è¯­è¨€è®¾ç½®

**[English]**

RoboClaw supports bilingual interface (English and Simplified Chinese). The language can be selected during the initial configuration wizard.

**[ä¸­æ–‡]**

RoboClaw æ”¯æŒåŒè¯­ç•Œé¢ï¼ˆè‹±æ–‡å’Œç®€ä½“ä¸­æ–‡ï¼‰ã€‚è¯­è¨€å¯ä»¥åœ¨åˆå§‹é…ç½®å‘å¯¼ä¸­é€‰æ‹©ã€‚

### Language Selection / è¯­è¨€é€‰æ‹©

When you first run RoboClaw, the configuration wizard will prompt you to select your preferred language:

é¦–æ¬¡è¿è¡Œ RoboClaw æ—¶ï¼Œé…ç½®å‘å¯¼ä¼šæç¤ºæ‚¨é€‰æ‹©é¦–é€‰è¯­è¨€ï¼š

```
è¯·é€‰æ‹©è¯­è¨€ / Please select language:

  1. ç®€ä½“ä¸­æ–‡
  2. English

è¯·è¾“å…¥é€‰é¡¹ (1-2): _
```

### Changing Language / æ›´æ”¹è¯­è¨€

To change the language after initial setup:

åˆå§‹è®¾ç½®åè¦æ›´æ”¹è¯­è¨€ï¼š

**[English]** Edit the configuration file and change the `language` setting:

```toml
[default]
provider = "anthropic"
model = "claude-sonnet-4-20250514"
language = "english"  # or "chinese"
```

**[ä¸­æ–‡]** ç¼–è¾‘é…ç½®æ–‡ä»¶å¹¶æ›´æ”¹ `language` è®¾ç½®ï¼š

```toml
[default]
provider = "anthropic"
model = "claude-sonnet-4-20250514"
language = "chinese"  # æˆ– "english"
```

---

## Documentation / æ–‡æ¡£

- [Design Document](docs/plans/2025-02-20-roboclaw-design.md) - è®¾è®¡æ–‡æ¡£
- [Extension Design](docs/plans/2025-02-20-extensions-design.md) - æ‰©å±•è®¾è®¡

---

## License / è®¸å¯è¯

```
MIT License

Copyright (c) 2025 RoboClaw Contributors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
```

---

## Acknowledgments / è‡´è°¢

**[English]**
- [OpenClaw](https://github.com/OpenClaw) - Original inspiration / åŸå§‹çµæ„Ÿ
- [CPR](https://github.com/libcpr/cpr) - HTTP library / HTTP åº“
- [nlohmann/json](https://github.com/nlohmann/json) - JSON library / JSON åº“
- All contributors / æ‰€æœ‰è´¡çŒ®è€…

**[ä¸­æ–‡]**
- [OpenClaw](https://github.com/OpenClaw) - åŸå§‹çµæ„Ÿæ¥æº
- [CPR](https://github.com/libcpr/cpr) - HTTP åº“
- [nlohmann/json](https://github.com/nlohmann/json) - JSON åº“
- æ‰€æœ‰å¼€æºè´¡çŒ®è€…

---

<div align="center">

**Made with â¤ï¸ by the RoboClaw Community**

**ç”¨ â¤ï¸ æ„å»º | RoboClaw ç¤¾åŒº**

[â­ Star](https://github.com/yourusername/RoboClaw) &nbsp;&nbsp;
[ğŸ´ Fork](https://github.com/yourusername/RoboClaw/fork) &nbsp;&nbsp;
[ğŸ“– Documentation](https://github.com/yourusername/RoboClaw/wiki)

</div>
